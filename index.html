<!DOCTYPE html>
<html>
<head>
    <title>æŒ‰æ–‡ä»¶å¤¾åˆ†é¡çš„ HTML åˆ—è¡¨</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .folder {
            color: #586069;
            margin: 10px 0;
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        .folder-icon {
            margin-right: 5px;
        }
        .folder-content {
            padding-left: 20px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }
        .folder-content ul {
            list-style: none;
            padding-left: 0;
        }
        a {
            color: #0366d6;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .open {
            max-height: 1000px; /* è¶³å¤Ÿå¤§çš„é«˜åº¦ä»¥æ˜¾ç¤ºæ‰€æœ‰å†…å®¹ */
        }
    </style>
</head>
<body>
    <h1>ğŸ“‚ æ–‡ä»¶å¤¾åˆ†é¡åˆ—è¡¨</h1>

    <!-- æŒ‰æ–‡ä»¶å¤¾åˆ†çµ„ -->
    {% assign folders = "" | split: "," %}
    {% for file in site.static_files %}
        {% if file.extname == ".html" and file.path != "/index.html" %}
            <!-- æå–æ–‡ä»¶å¤¾è·¯å¾‘ -->
            {% assign path_parts = file.path | split: "/" %}
            {% assign folder = path_parts[1] | default: "æ ¹ç›®éŒ„" %}
            {% unless folders contains folder %}
                {% assign folders = folders | push: folder %}
            {% endunless %}
        {% endif %}
    {% endfor %}

    <!-- ç”Ÿæˆæ¯å€‹æ–‡ä»¶å¤¾çš„åˆ—è¡¨ -->
    {% for folder in folders %}
        <div class="folder" onclick="toggleFolder(this)">
            <span class="folder-icon">ğŸ“</span>
            <span class="folder-name">{{ folder }}/</span>
        </div>
        <div class="folder-content">
            <ul>
                {% for file in site.static_files %}
                    {% if file.extname == ".html" and file.path != "/index.html" %}
                        {% assign path_parts = file.path | split: "/" %}
                        {% assign current_folder = path_parts[1] | default: "æ ¹ç›®éŒ„" %}
                        {% if current_folder == folder %}
                            <li>
                                â†’ <a href="{{ file.path }}">{{ path_parts[-1] }}</a>
                            </li>
                        {% endif %}
                    {% endif %}
                {% endfor %}
            </ul>
        </div>
    {% endfor %}

    <script>
        function toggleFolder(folderElement) {
            const folderContent = folderElement.nextElementSibling;
            const isOpen = folderContent.classList.contains('open');
            
            // åˆ‡æ¢æ–‡ä»¶å¤¹å†…å®¹çš„æ˜¾ç¤ºçŠ¶æ€
            folderContent.classList.toggle('open', !isOpen);
            
            // æ›´æ–°æ–‡ä»¶å¤¹å›¾æ ‡
            const icon = folderElement.querySelector('.folder-icon');
            icon.textContent = isOpen ? 'ğŸ“' : 'ğŸ“‚';
        }
    </script>
</body>
</html>
